<script context="module"></script>

<script>export let autoPlay = undefined;
export let muted = undefined;
export let controls = undefined;
export let loop = undefined;
export let playsInline = undefined;
export let attributes = undefined;
export let preload = undefined;
export let fit = undefined;
export let position = undefined;
export let video = undefined;
export let posterImage = undefined;
function mitosis_styling(node, vars) {
    Object.entries(vars || {}).forEach(([p, v]) => {
        if (p.startsWith("--")) {
            node.style.setProperty(p, v);
        }
        else {
            node.style[p] = v;
        }
    });
}
$: videoProps = () => {
    return {
        ...(autoPlay === true
            ? {
                autoPlay: true,
            }
            : {}),
        ...(muted === true
            ? {
                muted: true,
            }
            : {}),
        ...(controls === true
            ? {
                controls: true,
            }
            : {}),
        ...(loop === true
            ? {
                loop: true,
            }
            : {}),
        ...(playsInline === true
            ? {
                playsInline: true,
            }
            : {}),
    };
};
$: spreadProps = () => {
    return {
        ...attributes,
        ...videoProps(),
    };
};
</script>

<video
  use:mitosis_styling={{
    width: "100%",
    height: "100%",
    ...attributes?.style,
    objectFit: fit,
    objectPosition: position,
    // Hack to get object fit to work as expected and
    // not have the video overflow
    borderRadius: 1,
  }}
  {...spreadProps()}
  preload={preload || "metadata"}
  src={video || "no-src"}
  poster={posterImage}
/>