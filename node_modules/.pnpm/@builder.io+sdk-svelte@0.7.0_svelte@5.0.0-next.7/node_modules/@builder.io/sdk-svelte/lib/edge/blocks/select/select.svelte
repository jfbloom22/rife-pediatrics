<script context="module"></script>

<script>import { isEditing } from "../../functions/is-editing.js";
import { filterAttrs } from "../helpers.js";
import { setAttrs } from "../helpers.js";
export let attributes = undefined;
export let value = undefined;
export let defaultValue = undefined;
export let name = undefined;
export let options = undefined;
</script>

<select
  {...filterAttrs(attributes, "on:", false)}
  {value}
  key={isEditing() && defaultValue ? defaultValue : "default-key"}
  {defaultValue}
  {name}
  use:setAttrs={filterAttrs(attributes, "on:", true)}
>
  {#each options as option}
    <option value={option.value}>{option.name || option.value}</option>
  {/each}
</select>