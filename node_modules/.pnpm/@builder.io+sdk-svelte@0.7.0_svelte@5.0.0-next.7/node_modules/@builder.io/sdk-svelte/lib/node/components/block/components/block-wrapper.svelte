<script context="module">/**
 * This component renders a block's wrapper HTML element (from the block's `tagName` property).
 * It reuses the exact same logic as the `InteractiveElement` component, but we need to have 2 separate components for
 * Svelte's sake, as it needs to know at compile-time whether to use:
 *  - `<svelte:element>` (for HTML element) or
 *  - `<svelte:component>` (for custom components)
 */
</script>

<script>import { getBlockActions } from "../../../functions/get-block-actions.js";
import { getBlockProperties } from "../../../functions/get-block-properties.js";
import { setAttrs } from "../../../blocks/helpers.js";
export let Wrapper;
export let block;
export let context;
export let hasChildren;
</script>

{#if hasChildren}
  <svelte:element
    this={Wrapper}
    {...getBlockProperties({
      block: block,
      context: $context,
    })}
    use:setAttrs={getBlockActions({
      block: block,
      rootState: $context.rootState,
      rootSetState: $context.rootSetState,
      localState: $context.localState,
      context: $context.context,
      stripPrefix: true,
    })}
  >
    <slot />
  </svelte:element>
{:else}
  <svelte:element
    this={Wrapper}
    {...getBlockProperties({
      block: block,
      context: $context,
    })}
    use:setAttrs={getBlockActions({
      block: block,
      rootState: $context.rootState,
      rootSetState: $context.rootSetState,
      localState: $context.localState,
      context: $context.context,
      stripPrefix: true,
    })}
  />
{/if}