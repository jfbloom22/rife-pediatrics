<script context="module"></script>

<script>import { isEditing } from "../../functions/is-editing.js";
import { filterAttrs } from "../helpers.js";
import { setAttrs } from "../helpers.js";
export let backgroundSize = undefined;
export let backgroundPosition = undefined;
export let imgSrc = undefined;
export let altText = undefined;
export let image = undefined;
export let attributes = undefined;
function mitosis_styling(node, vars) {
    Object.entries(vars || {}).forEach(([p, v]) => {
        if (p.startsWith("--")) {
            node.style.setProperty(p, v);
        }
        else {
            node.style[p] = v;
        }
    });
}
</script>

<img
  use:mitosis_styling={{
    objectFit: backgroundSize || "cover",
    objectPosition: backgroundPosition || "center",
  }}
  key={(isEditing() && imgSrc) || "default-key"}
  alt={altText}
  src={imgSrc || image}
  {...filterAttrs(attributes, "on:", false)}
  use:setAttrs={filterAttrs(attributes, "on:", true)}
/>